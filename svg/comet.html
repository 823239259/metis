<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Comet</title>
    <style>
        *{margin: 0;padding: 0;}
        body{background-color: #000;}
        svg{position: fixed;top: 0;left: 0;width: 100%;height: 100%;}
        path{fill: none;stroke: #FFF;stroke-width: 4;stroke-linecap: round;stroke-dasharray: 628.4073486328125;}
    </style>
</head>
<body>
<svg>
    <defs>
        <pattern id="tail" width="100%" height="100%" patternContentUnits="objectBoundingBox">
            <image width="1" height="1" xlink:href="http://oz1iqbfxq.bkt.clouddn.com/tail.png" />
        </pattern>
    </defs>
    <path id="circle" d="M 300 100 a 100 100 0 0 1 0 200 a 100 100 0 0 1 0 -200 Z">
        <animate attributeName="stroke-dashoffset" from="628.4073486328125" to="0" dur="3s" repeatCount="indefinite" />
    </path>
    <g>
        <circle cx="0" cy="0" r="8" fill="url(#tail)">
            <animateMotion path="M 300 100 a 100 100 0 0 1 0 200 a 100 100 0 0 1 0 -200 Z" begin="0" dur="3s" rotate="auto" repeatCount="indefinite" />
        </circle>
    </g>
</svg>
<script>
    var pathLength = document.getElementById('circle').getTotalLength();
    console.log(pathLength);
</script>
</body>
</html>